---
id: tasks
title: Common tasks working with manifest data
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

## Reading a manifest

<Tabs groupId="programming-lang">

<TabItem value="js" label="JavaScript" default>

If the input provided to [`c2pa.read`](../../js-sdk/api/c2pa.c2pa#methods) has a C2PA manifest and was processed without errors, the returned [`c2paReadResult`](../../js-sdk/api/c2pa.c2pareadresult) contains a [`manifestStore`](../../js-sdk/api/c2pa.c2pareadresult.manifeststore).

The [`manifestStore`](../../js-sdk/api/c2pa.c2pareadresult.manifeststore) object contains a few properties:

- **manifests**: An object containing _all_ manifests found in an asset, keyed by UUID.
- **activeManifest**: A pointer to the latest [`manifest`](../../js-sdk/api/c2pa.manifest) in the manifest store. Effectively the "parent" manifest, this is the likely starting point when inspecting an asset's C2PA data.
- **validationStatus**: A list of any validation errors the library generated when processing an asset. See [Validation](./validation) for more information.

[`Manifest`](../../js-sdk/api/c2pa.manifest) objects contain properties pertaining to an asset's provenance, along with convenient interfaces for [accessing assertion data](../../js-sdk/api/c2pa.assertionaccessor) and [generating a thumbnail](../../js-sdk/api/c2pa.thumbnail).

```js
  const { manifestStore, source } = await c2pa.read(sampleImage);
  const activeManifest = manifestStore?.activeManifest;
  if (activeManifest) {
    // Get thumbnail
    // Note: You would normally call `dispose()` when working with a
    // component-based UI library (e.g. on component un-mount)
    // @ts-expect-error noUnusedLocals
    const { url, dispose } = source.thumbnail.getUrl();

    // Get properties
    const properties: Record<string, string | undefined> = {
      title: activeManifest.title,
      format: activeManifest.format,
      claimGenerator: activeManifest.claimGenerator.split('(')[0]?.trim(),
      producer: selectProducer(activeManifest)?.name ?? 'Unknown',
      thumbnail: `<img src="${url}" class="thumbnail" />`,
      ingredients: (activeManifest.ingredients ?? [])
        .map((i) => i.title)
        .join(', '),
      signatureIssuer: activeManifest.signatureInfo?.issuer,
      signatureDate: activeManifest.signatureInfo?.time
        ? parseISO(activeManifest.signatureInfo.time).toString()
        : 'No date available',
    };
```
</TabItem>

<TabItem value="python" label="Python">

Use the `Reader` object to read manifest data from a file or stream and perform validation on the manifest store. Use the `json()` method to return a JSON manifest report; If there are validation errors, the report includes a `validation_status` field.

Use the `resource_to_file` and `resource_to_stream` methods to write resources to a file or stream, respectively.

An asset file may contain many manifests in a manifest store. The most recent manifest is identified by the value of the `active_manifest` field in the manifests map.  Retrieve binary resources such as thumbnails from the manifest data, use the `resource_to_stream` or `resource_to_file` methods using the associated `identifier` field values and a `uri`.

```py
try:
  # Create a reader from a file path
  reader = c2pa.Reader.from_file("path/to/media_file.jpg")

  # Print the JSON for a manifest. 
  print("manifest store:", reader.json())

  # Get the active manifest.
  manifest = reader.get_active_manifest()
  if manifest != None:

    # Get the URI to the manifest's thumbnail and write it to a file
    uri = manifest["thumbnail"]["identifier"]
    reader.resource_to_file(uri, "thumbnail_v2.jpg") 

except Exception as err:
    print(err)
```

</TabItem>

<TabItem value="cpp" label="C++">
  This is how to read a manifest using C++. 
</TabItem>

  <TabItem value="node" label="Node.js">
    This is how to read a manifest using Node.js.
  </TabItem>
</Tabs>

## Getting resources from a manifest

<Tabs groupId="programming-lang" >
  <TabItem value="js" label="JavaScript" default>
    This is how to get resources from a manifest using JavaScript.
  </TabItem>

<TabItem value="python" label="Python">
  This is how to get resources from a manifest using Python.
</TabItem>

<TabItem value="cpp" label="C++">
  This is how to get resources from a manifest using C++.
</TabItem>

  <TabItem value="node" label="Node.js">
    This is how to get resources from a manifest using Node.js.
  </TabItem>
</Tabs>

## Building a manifest

<Tabs groupId="programming-lang">

<TabItem value="python" label="Python" default>
  This is how to build a manifest using Python.
</TabItem>

<TabItem value="cpp" label="C++">
  This is how to build a manifest using C++.
</TabItem>

  <TabItem value="node" label="Node.js">
    This is how to build a manifest using Node.js.
  </TabItem>
</Tabs>

## Writing a manifest

<Tabs groupId="programming-lang">
  <TabItem value="python" label="Python" default>
    This is how to write a manifest using Python.
  </TabItem>

<TabItem value="cpp" label="C++">
  This is how to write a manifest using C++.
</TabItem>

  <TabItem value="node" label="Node.js">
    This is how to write a manifest using Node.js.
  </TabItem>
</Tabs>

## Signing a manifest

<Tabs groupId="programming-lang">
  <TabItem value="python" label="Python" default>
    This is how to sign a manifest using Python.
  </TabItem>

<TabItem value="cpp" label="C++">
  This is how to sign a manifest using C++.
</TabItem>

  <TabItem value="node" label="Node.js">
    This is how to sign a manifest using Node.js.
  </TabItem>
</Tabs>
